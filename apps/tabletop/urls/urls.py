from django.conf.urls import *
from django.contrib.auth.decorators import login_required
from apps.tabletop import views


urlpatterns = patterns(
    'apps.tabletop.views',
    url('^report/add/$', 'report_add',
        name='report-add'),
    url('^report/(?P<pk>\d+)/edit/$', 'report_add',
        name='report-edit'),
    url('^report/(?P<pk>\d+)/approve/$',
        'report_approve',
        name='report-approve'),
    url('^report/(?P<pk>\d+)/disapprove/$',
        'report_approve',
        {'approved': False},
        name='report-disapprove'),
    url('^reports/self/$', 'reports',
        name='battle-reports-self'),
    url('^reports/$', 'battle_reports',
        name='battle-reports'),
    url('^reports/(?P<pk>\d+)/$', 'report',
        name='report'),

    url('^reports/delete/(?P<pk>\d+)/(?P<approve>(approve|force))/$',
        'delete_battle_report',
        name='battle-report-delete'),
    url('^reports/(?P<pk>\d+)/edit/$', 'add_battle_report',
        {'action': 'edit'},
        name='battle-report-edit'),
    url('^rosters/all/$', views.RostersListView.as_view(),
        name='rosters-index'),
    url('^rosters/$', login_required(views.UserRosterListView.as_view()),
        name='rosters'),
    url('^roster/add/$', login_required(views.RosterCreateView.as_view()),
        name='roster-add'),
    url('^roster/edit/(?P<pk>\d+)/$',
        login_required(views.RosterUpdateView.as_view()),
        name='roster-edit'),
    url('^roster/(?P<pk>\d+)/delete/$',
        login_required(views.RosterDeleteView.as_view()), name='roster-delete'),
    url('^rosters/(?P<pk>\d+)/detail/$',
        views.RosterDetailView.as_view(),
        name='roster'),

    url('^codexes/add/$',
        login_required(views.CodexCreateView.as_view()),
        name='codex-add'),
    url('^codexes/(?P<pk>\d+)/edit/$',
        login_required(views.CodexUpdateView.as_view()),
        name='codex-edit'),
    url('^codexes/(?P<pk>\d+)/delete/$',
        login_required(views.CodexDeleteView.as_view()),
        name='codex-delete'),
    url('^codexes/(?P<pk>\d+)/$',
        login_required(views.CodexDetailView.as_view()),
        name='codex-detail'),
    url('^codexes/$', login_required(views.CodexListView.as_view()),
        name='codex-list')
)
